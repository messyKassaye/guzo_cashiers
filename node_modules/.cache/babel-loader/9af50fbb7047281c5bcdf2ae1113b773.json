{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\projects\\\\guzo\\\\cashiers\\\\src\\\\auth\\\\Admin\\\\components\\\\cashiers\\\\widgets\\\\AddNewCashier.js\",\n    _s = $RefreshSig$();\n\nimport { TextValidator, ValidatorForm } from 'react-material-ui-form-validator';\nimport formStyle from '../../../../style/formStyle';\nimport UseForm from '../../../../../commons/UseForm';\nimport { Button, Grid, Typography } from '@material-ui/core';\nimport { useState, useEffect } from 'react';\nimport LoadingButton from '../../../../../commons/LoadingButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { store } from '../../../../state/AppAction';\nimport { API_URL } from '../../../../../constants/constants';\nimport { STORE_CASHIERS } from '../../../../state/Constants';\nimport { green } from '@material-ui/core/colors';\n\nconst AddNewCashier = () => {\n  _s();\n\n  const classes = formStyle();\n  const [password, setPassword] = useState('');\n  const {\n    inputs,\n    handleInputChange\n  } = UseForm({\n    'name': '',\n    'phone': '',\n    'password': ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [finished, setFinished] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const loadingEnabled = !finished && loading;\n  const isEnabled = inputs.name.length > 0 && inputs.phone.length > 0;\n  const dispatch = useDispatch();\n  const response = useSelector(state => state.authReducer.cashiersReducer.response);\n  useEffect(() => {\n    if (response.status === true) {\n      setLoading(false);\n      setSubmitted(false);\n      setFinished(false);\n    }\n  });\n\n  const generatePassword = () => {\n    const passwords = Math.floor(1000 + Math.random() * 9000);\n    setPassword(passwords);\n  };\n\n  const handleSubmit = () => {\n    setLoading(true);\n    setSubmitted(true);\n    inputs.password = password;\n    dispatch(store(`${API_URL}cashiers`, inputs, STORE_CASHIERS));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: /*#__PURE__*/_jsxDEV(ValidatorForm, {\n      className: classes.form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          color: green[500]\n        },\n        children: response.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextValidator, {\n        className: classes.text_input,\n        label: 'Cashier name',\n        onChange: handleInputChange,\n        name: \"name\",\n        type: \"text\",\n        value: inputs.name,\n        validators: ['required'],\n        errorMessages: ['Please enter cashier name']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextValidator, {\n        className: classes.text_input,\n        label: 'Cashier phone number',\n        onChange: handleInputChange,\n        name: \"phone\",\n        type: \"text\",\n        value: inputs.phone,\n        validators: ['required'],\n        errorMessages: ['Please enter cashier phone number']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 7,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(TextValidator, {\n            className: classes.text_input,\n            label: 'Cashier password',\n            onChange: handleInputChange,\n            name: \"password\",\n            type: \"text\",\n            value: password,\n            validators: ['required'],\n            errorMessages: ['Please enter cashier password']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 5,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => generatePassword(),\n            variant: 'outlined',\n            color: 'secondary',\n            style: {\n              textTransform: 'none',\n              marginTop: 20\n            },\n            children: \"Generate password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n        className: classes.text_input,\n        color: \"primary\",\n        variant: \"contained\",\n        type: \"submit\",\n        text: 'Add cashier',\n        disabled: !isEnabled || submitted,\n        loading: loadingEnabled,\n        done: finished,\n        children: 'Add cashier'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddNewCashier, \"O4INTTFXz38UQEHxTI+nkqnii+c=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AddNewCashier;\nexport default AddNewCashier;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewCashier\");","map":{"version":3,"sources":["D:/projects/guzo/cashiers/src/auth/Admin/components/cashiers/widgets/AddNewCashier.js"],"names":["TextValidator","ValidatorForm","formStyle","UseForm","Button","Grid","Typography","useState","useEffect","LoadingButton","useDispatch","useSelector","store","API_URL","STORE_CASHIERS","green","AddNewCashier","classes","password","setPassword","inputs","handleInputChange","loading","setLoading","finished","setFinished","submitted","setSubmitted","loadingEnabled","isEnabled","name","length","phone","dispatch","response","state","authReducer","cashiersReducer","status","generatePassword","passwords","Math","floor","random","handleSubmit","container","form","color","message","text_input","textTransform","marginTop"],"mappings":"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","sourcesContent":["import { TextValidator, ValidatorForm } from 'react-material-ui-form-validator'\r\nimport formStyle from '../../../../style/formStyle'\r\nimport UseForm from '../../../../../commons/UseForm'\r\nimport { Button, Grid, Typography } from '@material-ui/core'\r\nimport {useState,useEffect} from 'react'\r\nimport LoadingButton from '../../../../../commons/LoadingButton'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { store } from '../../../../state/AppAction'\r\nimport { API_URL } from '../../../../../constants/constants'\r\nimport { STORE_CASHIERS } from '../../../../state/Constants'\r\nimport { green } from '@material-ui/core/colors'\r\nconst AddNewCashier =()=>{\r\n    const classes = formStyle()\r\n    const [password,setPassword] = useState('')\r\n    const {inputs,handleInputChange} = UseForm({'name':'','phone':'','password':''})\r\n    const [loading,setLoading] = useState(false)\r\n    const [finished,setFinished] = useState(false)\r\n    const [submitted,setSubmitted] = useState(false)\r\n    const loadingEnabled = !finished && loading;\r\n    const isEnabled = inputs.name.length > 0 && inputs.phone.length > 0\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector(state=>state.authReducer.cashiersReducer.response)\r\n\r\n    useEffect(()=>{\r\n        if(response.status===true){\r\n            setLoading(false)\r\n            setSubmitted(false)\r\n            setFinished(false)\r\n        }\r\n    })\r\n    const  generatePassword = ()=>{\r\n        const passwords = Math.floor(1000 + Math.random() * 9000);\r\n        setPassword(passwords)\r\n    }\r\n\r\n    const handleSubmit = ()=>{\r\n        setLoading(true)\r\n        setSubmitted(true)\r\n        inputs.password = password\r\n        dispatch(store(`${API_URL}cashiers`,inputs,STORE_CASHIERS))\r\n    }\r\n    return(\r\n        <div className={classes.container}>\r\n            <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n                <Typography style={{color:green[500]}}>\r\n                    {response.message}\r\n                </Typography>\r\n                <TextValidator\r\n                    className={classes.text_input}\r\n                    label={'Cashier name'}\r\n                    onChange={handleInputChange}\r\n                    name=\"name\"\r\n                    type='text'\r\n                    value={inputs.name}\r\n                    validators={['required']}\r\n                    errorMessages={['Please enter cashier name']}\r\n                />\r\n\r\n                <TextValidator\r\n                    className={classes.text_input}\r\n                    label={'Cashier phone number'}\r\n                    onChange={handleInputChange}\r\n                    name=\"phone\"\r\n                    type='text'\r\n                    value={inputs.phone}\r\n                    validators={['required']}\r\n                    errorMessages={['Please enter cashier phone number']}\r\n                />\r\n\r\n                <Grid container spacing={2}>\r\n                    <Grid item md={7} xs={12} sm={12}>\r\n                        <TextValidator\r\n                        className={classes.text_input}\r\n                        label={'Cashier password'}\r\n                        onChange={handleInputChange}\r\n                        name=\"password\"\r\n                        type='text'\r\n                        value={password}\r\n                        validators={['required']}\r\n                        errorMessages={['Please enter cashier password']}/>\r\n                    </Grid>\r\n\r\n                    <Grid item md={5} xs={12} sm={12}>\r\n                        <Button onClick={()=>generatePassword()} variant={'outlined'} color={'secondary'} style={{textTransform:'none',marginTop:20}}>\r\n                            Generate password\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <LoadingButton\r\n                            className={classes.text_input}\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            type=\"submit\"\r\n                            text={'Add cashier'}\r\n                            disabled={!isEnabled || submitted}\r\n                            loading={loadingEnabled}\r\n                            done={finished}\r\n                        >\r\n                            {\r\n                                'Add cashier'\r\n                            }\r\n                    </LoadingButton>\r\n\r\n            </ValidatorForm>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddNewCashier"]},"metadata":{},"sourceType":"module"}